create database parliament;
use parliament;
create table committee( committeeid int primary key not null auto_increment, name char(255) not null ); 		
create table student(rollno int primary key not null, firstname char(255) not null, lastname char(255) not null , phoneno bigint not null, year int not null , department char(255) not null, hostel char(255) not null, email char(255) not null ,password text not null,course text not null);
create table grievance(id int primary key not null auto_increment, committeeid int not null, data text  not null,filer int  not null, foreign key (filer) references student (rollno) on delete cascade on update cascade,foreign key (committeeid) references committee (committeeid) on delete cascade on update cascade );
create table suggestion(id int primary key not null auto_increment, committeeid int not null, data text  not null,filer int  not null, foreign key (filer) references student (rollno) on delete cascade on update cascade, foreign key (committeeid) references committee (committeeid) on delete cascade on update cascade);
create table polls(id int primary key not null auto_increment , committeeid int not null ,description text  not null, foreign key (committeeid) references committee (committeeid) on update cascade);
create table polloption(id int primary key not null auto_increment, answer text  not null,votes int  not null, pollid int  not null, foreign key (pollid) references polls (id) on delete cascade on update cascade);
create table pollers(id int primary key not null auto_increment, poller int  not null, poll int  not null, foreign key (poll) references polls (id) on delete cascade on update cascade, foreign key (poller) references student (rollno) on delete cascade on update cascade);
create table election(id int primary key not null auto_increment, descr text  not null, startdt date not null, enddt date not null,ishostel int not null, type text not null);
create table candidates(id int primary key not null auto_increment, name text  not null, votes int default 0  not null, cand_id int  not null, electionid int  not null, foreign key (cand_id) references student (rollno) on delete cascade on update cascade,foreign key (electionid) references election (id) on delete cascade on update cascade);
create table voters(id int primary key not null auto_increment, voter int  not null, electionid int  not null,foreign key (electionid) references election (id) on delete cascade on update cascade, foreign key (voter) references student (rollno) on delete cascade on update cascade);
create table notices(id int primary key not null auto_increment, notice text  not null, committeeid int  not null, foreign key (committeeid) references committee (committeeid) on update cascade on delete cascade);